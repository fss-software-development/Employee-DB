<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<databaseChangeLog xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
                   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
                   xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.4.xsd">

    <!-- This change set defines the initial table definition for the consent service
    based off https://tideaccount.atlassian.net/wiki/spaces/PAYM/pages/1178271757/Spike+PAYBA-1428+-+Consent+Service+DB -->


    <changeSet id="20190708175800-1" author="Tonya Tolbakova">
        <sql dbms="mysql" splitStatements="true" stripComments="true">
            <![CDATA[
                CREATE TABLE account (
                    id                          INT         NOT NULL,
                    name                        VARCHAR(36) NOT NULL,
                    location                    VARCHAR(36) NOT NULL,
                    PRIMARY KEY (id)
                ) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;
            ]]>
        </sql>
    </changeSet>

<!--    <changeSet id="20190708175800-2" author="Tonya Tolbakova">-->
<!--        <sql dbms="mysql" splitStatements="true" stripComments="true">-->
<!--            <![CDATA[-->
<!--                CREATE TABLE consent (-->
<!--                    id                 CHAR(36) NOT NULL,-->
<!--                    consent_request_id CHAR(36) NOT NULL,-->
<!--                    tide_user_id       INT,-->
<!--                    tide_company_id    INT,-->
<!--                    status             CHAR(25) NOT NULL,-->
<!--                    consent_type       VARCHAR(100),-->
<!--                    created_on         TIMESTAMP(3) NOT NULL DEFAULT CURRENT_TIMESTAMP(3),-->
<!--                    updated_on         TIMESTAMP(3) NOT NULL DEFAULT CURRENT_TIMESTAMP(3),-->
<!--                    PRIMARY KEY (id)-->
<!--                ) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;-->
<!--            ]]>-->
<!--        </sql>-->
<!--    </changeSet>-->

<!--    <changeSet id="20190708175800-3" author="Tonya Tolbakova">-->
<!--        <sql dbms="mysql" splitStatements="true" stripComments="true">-->
<!--            <![CDATA[-->
<!--                CREATE TABLE consent_account_mapping (-->
<!--                      id              CHAR(36) NOT NULL,-->
<!--                      consent_id      CHAR(36) NOT NULL,-->
<!--                      tide_account_id INT NOT NULL,-->
<!--                      account_type    CHAR(3) NOT NULL,-->
<!--                      PRIMARY KEY (id),-->
<!--                      CONSTRAINT `fk_consent_account`-->
<!--                        FOREIGN KEY (`consent_id`)-->
<!--                        REFERENCES `consent`(`id`)-->
<!--                ) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;-->
<!--            ]]>-->
<!--        </sql>-->
<!--    </changeSet>-->
</databaseChangeLog>

